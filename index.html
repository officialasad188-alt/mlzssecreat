<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MLZS Resource Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom font and smooth transitions */
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s ease;
        }

        /* Modal specific styling */
        .modal-overlay {
            background-color: rgba(0, 0, 0, 0.7); /* Dark semi-transparent background */
            transition: opacity 0.3s ease;
        }

        .modal-content {
            animation: slide-down 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        @keyframes slide-down {
            0% { transform: translateY(-50px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }
        
        /* CSS Class for hiding the header when scrolling down */
        .header-hidden {
            transform: translateY(-100%);
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-blue': '#4F46E5',
                        'primary-light': '#6366F1',
                        'neutral-light': '#F3F4F6',
                        'success-green': '#10B981',
                        'warning-orange': '#F59E0B',
                    }
                }
            }
        }
        
        // --- Global Scroll Tracking Variables ---
        let lastScrollY = 0;
        const headerTransitionClass = ['duration-300', 'ease-out']; 
        
        // --- Global Google Drive Link Constants (RETAINED from original HTML) ---
        // These are only used as fallback/reference and are overridden by dynamic links
        const DRIVE_FILE_ID = '1ruZ8_D9n2R9KN5DUkLFqhD7k80btRPeR';
        const DRIVE_PREVIEW_URL = `https://drive.google.com/file/d/${DRIVE_FILE_ID}/view?usp=sharing`;
        const DRIVE_DOWNLOAD_URL = `https://drive.google.com/uc?export=download&id=${DRIVE_FILE_ID}`;

        // ====================================================================
        // --- NEW: DYNAMIC LINKS DATA AND LOGIC ---
        // ====================================================================

        const subjectLinks = {
            // Class 8
            'English-8-Half-Yearly-2022': '1ruZ8_D9n2R9KN5DUkLFqhD7k80btRPeR', // Valid Google Drive ID (Used as example)
            'English-8-Annual-2022': 'https://1drv.ms/b/c/fcb359cbe58e7783/EeT0KnCbUn9Aqtaau6GaOSkBUYOfy5a2Vnj6tRG710bmpw?e=xPbgxB', // Valid OneDrive Link
            'Math-8-Half-Yearly-2022': 'MATH_8_HALFYEARLY_2022_ID_TO_REPLACE', // Placeholder
            'Math-8-Annual-2022': 'MATH_8_ANNUAL_2022_ID_TO_REPLACE',
            'Computer/IT-8-Half-Yearly-2022': 'COMPUTERIT_8_HALFYEARLY_2022_ID_TO_REPLACE',
            'Computer/IT-8-Annual-2022': 'COMPUTERIT_8_ANNUAL_2022_ID_TO_REPLACE',
            'Science-8-Half-Yearly-2022': 'SCIENCE_8_HALFYEARLY_2022_ID_TO_REPLACE',
            'Science-8-Annual-2022': 'SCIENCE_8_ANNUAL_2022_ID_TO_REPLACE',
            'Social Science (SSC)-8-Half-Yearly-2022': 'SOCIALSCIENCESSC_8_HALFYEARLY_2022_ID_TO_REPLACE',
            'Social Science (SSC)-8-Annual-2022': 'SOCIALSCIENCESSC_8_ANNUAL_2022_ID_TO_REPLACE',
            'Hindi-8-Half-Yearly-2022': 'HINDI_8_HALFYEARLY_2022_ID_TO_REPLACE',
            'Hindi-8-Annual-2022': 'HINDI_8_ANNUAL_2022_ID_TO_REPLACE',
            'English-8-Half-Yearly-2023': 'ENGLISH_8_HALFYEARLY_2023_ID_TO_REPLACE',
            'English-8-Annual-2023': 'ENGLISH_8_ANNUAL_2023_ID_TO_REPLACE',
            'Math-8-Half-Yearly-2023': 'MATH_8_HALFYEARLY_2023_ID_TO_REPLACE',
            'Math-8-Annual-2023': 'MATH_8_ANNUAL_2023_ID_TO_REPLACE',
            'Computer/IT-8-Half-Yearly-2023': 'COMPUTERIT_8_HALFYEARLY_2023_ID_TO_REPLACE',
            'Computer/IT-8-Annual-2023': 'COMPUTERIT_8_ANNUAL_2023_ID_TO_REPLACE',
            'Science-8-Half-Yearly-2023': 'SCIENCE_8_HALFYEARLY_2023_ID_TO_REPLACE',
            'Science-8-Annual-2023': 'SCIENCE_8_ANNUAL_2023_ID_TO_REPLACE',
            'Social Science (SSC)-8-Half-Yearly-2023': 'SOCIALSCIENCESSC_8_HALFYEARLY_2023_ID_TO_REPLACE',
            'Social Science (SSC)-8-Annual-2023': 'SOCIALSCIENCESSC_8_ANNUAL_2023_ID_TO_REPLACE',
            'Hindi-8-Half-Yearly-2023': 'HINDI_8_HALFYEARLY_2023_ID_TO_REPLACE',
            'Hindi-8-Annual-2023': 'HINDI_8_ANNUAL_2023_ID_TO_REPLACE',
            'English-8-Half-Yearly-2024': 'ENGLISH_8_HALFYEARLY_2024_ID_TO_REPLACE',
            'English-8-Annual-2024': 'ENGLISH_8_ANNUAL_2024_ID_TO_REPLACE',
            'Math-8-Half-Yearly-2024': 'MATH_8_HALFYEARLY_2024_ID_TO_REPLACE',
            'Math-8-Annual-2024': 'MATH_8_ANNUAL_2024_ID_TO_REPLACE',
            'Computer/IT-8-Half-Yearly-2024': 'COMPUTERIT_8_HALFYEARLY_2024_ID_TO_REPLACE',
            'Computer/IT-8-Annual-2024': 'COMPUTERIT_8_ANNUAL_2024_ID_TO_REPLACE',
            'Science-8-Half-Yearly-2024': 'SCIENCE_8_HALFYEARLY_2024_ID_TO_REPLACE',
            'Science-8-Annual-2024': 'SCIENCE_8_ANNUAL_2024_ID_TO_REPLACE',
            'Social Science (SSC)-8-Half-Yearly-2024': 'SOCIALSCIENCESSC_8_HALFYEARLY_2024_ID_TO_REPLACE',
            'Social Science (SSC)-8-Annual-2024': 'SOCIALSCIENCESSC_8_ANNUAL_2024_ID_TO_REPLACE',
            'Hindi-8-Half-Yearly-2024': 'HINDI_8_HALFYEARLY_2024_ID_TO_REPLACE',
            'Hindi-8-Annual-2024': 'HINDI_8_ANNUAL_2024_ID_TO_REPLACE',
            'English-8-Half-Yearly-2025': 'ENGLISH_8_HALFYEARLY_2025_ID_TO_REPLACE',
            'English-8-Annual-2025': 'ENGLISH_8_ANNUAL_2025_ID_TO_REPLACE',
            'Math-8-Half-Yearly-2025': 'MATH_8_HALFYEARLY_2025_ID_TO_REPLACE',
            'Math-8-Annual-2025': 'MATH_8_ANNUAL_2025_ID_TO_REPLACE',
            'Computer/IT-8-Half-Yearly-2025': 'COMPUTERIT_8_HALFYEARLY_2025_ID_TO_REPLACE',
            'Computer/IT-8-Annual-2025': 'COMPUTERIT_8_ANNUAL_2025_ID_TO_REPLACE',
            'Science-8-Half-Yearly-2025': 'SCIENCE_8_HALFYEARLY_2025_ID_TO_REPLACE',
            'Science-8-Annual-2025': 'SCIENCE_8_ANNUAL_2025_ID_TO_REPLACE',
            'Social Science (SSC)-8-Half-Yearly-2025': 'SOCIALSCIENCESSC_8_HALFYEARLY_2025_ID_TO_REPLACE',
            'Social Science (SSC)-8-Annual-2025': 'SOCIALSCIENCESSC_8_ANNUAL_2025_ID_TO_REPLACE',
            'Hindi-8-Half-Yearly-2025': 'HINDI_8_HALFYEARLY_2025_ID_TO_REPLACE',
            'Hindi-8-Annual-2025': 'HINDI_8_ANNUAL_2025_ID_TO_REPLACE',

            // Class 9
            'English-9-Half-Yearly-2022': 'ENGLISH_9_HALFYEARLY_2022_ID_TO_REPLACE',
            'English-9-Annual-2022': 'ENGLISH_9_ANNUAL_2022_ID_TO_REPLACE',
            'Math-9-Half-Yearly-2022': 'MATH_9_HALFYEARLY_2022_ID_TO_REPLACE',
            'Math-9-Annual-2022': 'MATH_9_ANNUAL_2022_ID_TO_REPLACE',
            'Computer/IT-9-Half-Yearly-2022': 'COMPUTERIT_9_HALFYEARLY_2022_ID_TO_REPLACE',
            'Computer/IT-9-Annual-2022': 'COMPUTERIT_9_ANNUAL_2022_ID_TO_REPLACE',
            'Science-9-Half-Yearly-2022': 'SCIENCE_9_HALFYEARLY_2022_ID_TO_REPLACE',
            'Science-9-Annual-2022': 'SCIENCE_9_ANNUAL_2022_ID_TO_REPLACE',
            'Social Science (SSC)-9-Half-Yearly-2022': 'SOCIALSCIENCESSC_9_HALFYEARLY_2022_ID_TO_REPLACE',
            'Social Science (SSC)-9-Annual-2022': 'SOCIALSCIENCESSC_9_ANNUAL_2022_ID_TO_REPLACE',
            'Hindi-9-Half-Yearly-2022': 'HINDI_9_HALFYEARLY_2022_ID_TO_REPLACE',
            'Hindi-9-Annual-2022': 'HINDI_9_ANNUAL_2022_ID_TO_REPLACE',
            'English-9-Half-Yearly-2023': 'ENGLISH_9_HALFYEARLY_2023_ID_TO_REPLACE',
            'English-9-Annual-2023': 'ENGLISH_9_ANNUAL_2023_ID_TO_REPLACE',
            'Math-9-Half-Yearly-2023': 'MATH_9_HALFYEARLY_2023_ID_TO_REPLACE',
            'Math-9-Annual-2023': 'MATH_9_ANNUAL_2023_ID_TO_REPLACE',
            'Computer/IT-9-Half-Yearly-2023': 'COMPUTERIT_9_HALFYEARLY_2023_ID_TO_REPLACE',
            'Computer/IT-9-Annual-2023': 'COMPUTERIT_9_ANNUAL_2023_ID_TO_REPLACE',
            'Science-9-Half-Yearly-2023': 'SCIENCE_9_HALFYEARLY_2023_ID_TO_REPLACE',
            'Science-9-Annual-2023': 'SCIENCE_9_ANNUAL_2023_ID_TO_REPLACE',
            'Social Science (SSC)-9-Half-Yearly-2023': 'SOCIALSCIENCESSC_9_HALFYEARLY_2023_ID_TO_REPLACE',
            'Social Science (SSC)-9-Annual-2023': 'SOCIALSCIENCESSC_9_ANNUAL_2023_ID_TO_REPLACE',
            'Hindi-9-Half-Yearly-2023': 'HINDI_9_HALFYEARLY_2023_ID_TO_REPLACE',
            'Hindi-9-Annual-2023': 'HINDI_9_ANNUAL_2023_ID_TO_REPLACE',
            'English-9-Half-Yearly-2024': 'ENGLISH_9_HALFYEARLY_2024_ID_TO_REPLACE',
            'English-9-Annual-2024': 'ENGLISH_9_ANNUAL_2024_ID_TO_REPLACE',
            'Math-9-Half-Yearly-2024': 'MATH_9_HALFYEARLY_2024_ID_TO_REPLACE',
            'Math-9-Annual-2024': 'MATH_9_ANNUAL_2024_ID_TO_REPLACE',
            'Computer/IT-9-Half-Yearly-2024': 'COMPUTERIT_9_HALFYEARLY_2024_ID_TO_REPLACE',
            'Computer/IT-9-Annual-2024': 'COMPUTERIT_9_ANNUAL_2024_ID_TO_REPLACE',
            'Science-9-Half-Yearly-2024': 'SCIENCE_9_HALFYEARLY_2024_ID_TO_REPLACE',
            'Science-9-Annual-2024': 'SCIENCE_9_ANNUAL_2024_ID_TO_REPLACE',
            'Social Science (SSC)-9-Half-Yearly-2024': 'SOCIALSCIENCESSC_9_HALFYEARLY_2024_ID_TO_REPLACE',
            'Social Science (SSC)-9-Annual-2024': 'SOCIALSCIENCESSC_9_ANNUAL_2024_ID_TO_REPLACE',
            'Hindi-9-Half-Yearly-2024': 'HINDI_9_HALFYEARLY_2024_ID_TO_REPLACE',
            'Hindi-9-Annual-2024': 'HINDI_9_ANNUAL_2024_ID_TO_REPLACE',
            'English-9-Half-Yearly-2025': 'ENGLISH_9_HALFYEARLY_2025_ID_TO_REPLACE',
            'English-9-Annual-2025': 'ENGLISH_9_ANNUAL_2025_ID_TO_REPLACE',
            'Math-9-Half-Yearly-2025': 'MATH_9_HALFYEARLY_2025_ID_TO_REPLACE',
            'Math-9-Annual-2025': 'MATH_9_ANNUAL_2025_ID_TO_REPLACE',
            'Computer/IT-9-Half-Yearly-2025': 'COMPUTERIT_9_HALFYEARLY_2025_ID_TO_REPLACE',
            'Computer/IT-9-Annual-2025': 'COMPUTERIT_9_ANNUAL_2025_ID_TO_REPLACE',
            'Science-9-Half-Yearly-2025': 'SCIENCE_9_HALFYEARLY_2025_ID_TO_REPLACE',
            'Science-9-Annual-2025': 'SCIENCE_9_ANNUAL_2025_ID_TO_REPLACE',
            'Social Science (SSC)-9-Half-Yearly-2025': 'SOCIALSCIENCESSC_9_HALFYEARLY_2025_ID_TO_REPLACE',
            'Social Science (SSC)-9-Annual-2025': 'SOCIALSCIENCESSC_9_ANNUAL_2025_ID_TO_REPLACE',
            'Hindi-9-Half-Yearly-2025': 'HINDI_9_HALFYEARLY_2025_ID_TO_REPLACE',
            'Hindi-9-Annual-2025': 'HINDI_9_ANNUAL_2025_ID_TO_REPLACE',

            // Class 10 (Half-Yearly & Annual)
            'English-10-Half-Yearly-2022': 'ENGLISH_10_HALFYEARLY_2022_ID_TO_REPLACE',
            'English-10-Annual-2022': 'ENGLISH_10_ANNUAL_2022_ID_TO_REPLACE',
            'Math-10-Half-Yearly-2022': 'MATH_10_HALFYEARLY_2022_ID_TO_REPLACE',
            'Math-10-Annual-2022': 'MATH_10_ANNUAL_2022_ID_TO_REPLACE',
            'Computer/IT-10-Half-Yearly-2022': 'COMPUTERIT_10_HALFYEARLY_2022_ID_TO_REPLACE',
            'Computer/IT-10-Annual-2022': '1nrJoTKIqsPrkc-aX6Nd-0iHcxJJFm3sU', // Valid Google Drive ID (Used as example)
            'Science-10-Half-Yearly-2022': 'SCIENCE_10_HALFYEARLY_2022_ID_TO_REPLACE',
            'Science-10-Annual-2022': 'SCIENCE_10_ANNUAL_2022_ID_TO_REPLACE',
            'Social Science (SSC)-10-Half-Yearly-2022': 'SOCIALSCIENCESSC_10_HALFYEARLY_2022_ID_TO_REPLACE',
            'Social Science (SSC)-10-Annual-2022': 'SOCIALSCIENCESSC_10_ANNUAL_2022_ID_TO_REPLACE',
            'Hindi-10-Half-Yearly-2022': 'HINDI_10_HALFYEARLY_2022_ID_TO_REPLACE',
            'Hindi-10-Annual-2022': 'HINDI_10_ANNUAL_2022_ID_TO_REPLACE',
            'English-10-Half-Yearly-2023': 'ENGLISH_10_HALFYEARLY_2023_ID_TO_REPLACE',
            'English-10-Annual-2023': 'ENGLISH_10_ANNUAL_2023_ID_TO_REPLACE',
            'Math-10-Half-Yearly-2023': 'MATH_10_HALFYEARLY_2023_ID_TO_REPLACE',
            'Math-10-Annual-2023': 'MATH_10_ANNUAL_2023_ID_TO_REPLACE',
            'Computer/IT-10-Half-Yearly-2023': 'COMPUTERIT_10_HALFYEARLY_2023_ID_TO_REPLACE',
            'Computer/IT-10-Annual-2023': 'COMPUTERIT_10_ANNUAL_2023_ID_TO_REPLACE',
            'Science-10-Half-Yearly-2023': 'SCIENCE_10_HALFYEARLY_2023_ID_TO_REPLACE',
            'Science-10-Annual-2023': 'SCIENCE_10_ANNUAL_2023_ID_TO_REPLACE',
            'Social Science (SSC)-10-Half-Yearly-2023': 'SOCIALSCIENCESSC_10_HALFYEARLY_2023_ID_TO_REPLACE',
            'Social Science (SSC)-10-Annual-2023': 'SOCIALSCIENCESSC_10_ANNUAL_2023_ID_TO_REPLACE',
            'Hindi-10-Half-Yearly-2023': 'HINDI_10_HALFYEARLY_2023_ID_TO_REPLACE',
            'Hindi-10-Annual-2023': 'HINDI_10_ANNUAL_2023_ID_TO_REPLACE',
            'English-10-Half-Yearly-2024': 'ENGLISH_10_HALFYEARLY_2024_ID_TO_REPLACE',
            'English-10-Annual-2024': 'ENGLISH_10_ANNUAL_2024_ID_TO_REPLACE',
            'Math-10-Half-Yearly-2024': 'MATH_10_HALFYEARLY_2024_ID_TO_REPLACE',
            'Math-10-Annual-2024': 'MATH_10_ANNUAL_2024_ID_TO_REPLACE',
            'Computer/IT-10-Half-Yearly-2024': 'COMPUTERIT_10_HALFYEARLY_2024_ID_TO_REPLACE',
            'Computer/IT-10-Annual-2024': 'COMPUTERIT_10_ANNUAL_2024_ID_TO_REPLACE',
            'Science-10-Half-Yearly-2024': 'SCIENCE_10_HALFYEARLY_2024_ID_TO_REPLACE',
            'Science-10-Annual-2024': 'SCIENCE_10_ANNUAL_2024_ID_TO_REPLACE',
            'Social Science (SSC)-10-Half-Yearly-2024': 'SOCIALSCIENCESSC_10_HALFYEARLY_2024_ID_TO_REPLACE',
            'Social Science (SSC)-10-Annual-2024': 'SOCIALSCIENCESSC_10_ANNUAL_2024_ID_TO_REPLACE',
            'Hindi-10-Half-Yearly-2024': 'HINDI_10_HALFYEARLY_2024_ID_TO_REPLACE',
            'Hindi-10-Annual-2024': 'HINDI_10_ANNUAL_2024_ID_TO_REPLACE',
            'English-10-Half-Yearly-2025': 'ENGLISH_10_HALFYEARLY_2025_ID_TO_REPLACE',
            'English-10-Annual-2025': 'ENGLISH_10_ANNUAL_2025_ID_TO_REPLACE',
            'Math-10-Half-Yearly-2025': 'MATH_10_HALFYEARLY_2025_ID_TO_REPLACE',
            'Math-10-Annual-2025': 'MATH_10_ANNUAL_2025_ID_TO_REPLACE',
            'Computer/IT-10-Half-Yearly-2025': 'COMPUTERIT_10_HALFYEARLY_2025_ID_TO_REPLACE',
            'Computer/IT-10-Annual-2025': 'COMPUTERIT_10_ANNUAL_2025_ID_TO_REPLACE',
            'Science-10-Half-Yearly-2025': 'SCIENCE_10_HALFYEARLY_2025_ID_TO_REPLACE',
            'Science-10-Annual-2025': 'SCIENCE_10_ANNUAL_2025_ID_TO_REPLACE',
            'Social Science (SSC)-10-Half-Yearly-2025': 'SOCIALSCIENCESSC_10_HALFYEARLY_2025_ID_TO_REPLACE',
            'Social Science (SSC)-10-Annual-2025': 'SOCIALSCIENCESSC_10_ANNUAL_2025_ID_TO_REPLACE',
            'Hindi-10-Half-Yearly-2025': 'HINDI_10_HALFYEARLY_2025_ID_TO_REPLACE',
            'Hindi-10-Annual-2025': 'HINDI_10_ANNUAL_2025_ID_TO_REPLACE',

            // Class 10 (Pre-Board) - Excludes Computer/IT
            'English-10-Pre-Board-2022': 'ENGLISH_10_PREBOARD_2022_ID_TO_REPLACE',
            'Math-10-Pre-Board-2022': 'MATH_10_PREBOARD_2022_ID_TO_REPLACE',
            'Science-10-Pre-Board-2022': 'SCIENCE_10_PREBOARD_2022_ID_TO_REPLACE',
            'Social Science (SSC)-10-Pre-Board-2022': 'SOCIALSCIENCESSC_10_PREBOARD_2022_ID_TO_REPLACE',
            'Hindi-10-Pre-Board-2022': 'HINDI_10_PREBOARD_2022_ID_TO_REPLACE',
            'English-10-Pre-Board-2023': 'ENGLISH_10_PREBOARD_2023_ID_TO_REPLACE',
            'Math-10-Pre-Board-2023': 'MATH_10_PREBOARD_2023_ID_TO_REPLACE',
            'Science-10-Pre-Board-2023': 'SCIENCE_10_PREBOARD_2023_ID_TO_REPLACE',
            'Social Science (SSC)-10-Pre-Board-2023': 'SOCIALSCIENCESSC_10_PREBOARD_2023_ID_TO_REPLACE',
            'Hindi-10-Pre-Board-2023': 'HINDI_10_PREBOARD_2023_ID_TO_REPLACE',
            'English-10-Pre-Board-2024': 'ENGLISH_10_PREBOARD_2024_ID_TO_REPLACE',
            'Math-10-Pre-Board-2024': 'MATH_10_PREBOARD_2024_ID_TO_REPLACE',
            'Science-10-Pre-Board-2024': 'SCIENCE_10_PREBOARD_2024_ID_TO_REPLACE',
            'Social Science (SSC)-10-Pre-Board-2024': 'SOCIALSCIENCESSC_10_PREBOARD_2024_ID_TO_REPLACE',
            'Hindi-10-Pre-Board-2024': 'HINDI_10_PREBOARD_2024_ID_TO_REPLACE',
            'English-10-Pre-Board-2025': 'ENGLISH_10_PREBOARD_2025_ID_TO_REPLACE',
            'Math-10-Pre-Board-2025': 'MATH_10_PREBOARD_2025_ID_TO_REPLACE',
            'Science-10-Pre-Board-2025': 'SCIENCE_10_PREBOARD_2025_ID_TO_REPLACE',
            'Social Science (SSC)-10-Pre-Board-2025': 'SOCIALSCIENCESSC_10_PREBOARD_2025_ID_TO_REPLACE',
            'Hindi-10-Pre-Board-2025': 'HINDI_10_PREBOARD_2025_ID_TO_REPLACE'
        };

        /**
         * Generates the correct View and Download links based on the provided ID or URL.
         */
        function getLinks(idOrUrl) {
            const DOWNLOAD_ID_PREFIX = '_ID_TO_REPLACE';
            const GOOGLE_DRIVE_ID_LENGTH = 33; 

            // Case 1: Placeholder ID
            if (idOrUrl.endsWith(DOWNLOAD_ID_PREFIX)) {
                return {
                    view: '#',
                    download: '#',
                    isPlaceholder: true,
                    type: 'Placeholder'
                };
            }

            // Case 2: OneDrive or a direct external URL
            if (idOrUrl.startsWith('http')) {
                return {
                    view: idOrUrl,
                    download: idOrUrl,
                    isPlaceholder: false,
                    type: 'External'
                };
            }

            // Case 3: Google Drive File ID
            if (idOrUrl.length === GOOGLE_DRIVE_ID_LENGTH) {
                const fileId = idOrUrl;
                return {
                    view: `https://drive.google.com/file/d/${fileId}/view?usp=sharing`,
                    download: `https://drive.google.com/uc?export=download&id=${fileId}`,
                    isPlaceholder: false,
                    type: 'Google Drive'
                };
            }

            // Default fallback
             return {
                view: '#',
                download: '#',
                isPlaceholder: true, 
                type: 'Error/Placeholder'
            };
        }

        /**
         * Dynamically renders the list of papers based on the subjectLinks data.
         */
        function renderPaperList() {
            const paperListDiv = document.getElementById('paper-list');
            paperListDiv.innerHTML = ''; // Clear existing content
            
            // Define colors for visual distinction (using Tailwind classes)
            const subjectColors = {
                'English': 'border-yellow-500', 
                'Math': 'border-red-500', 
                'Computer/IT': 'border-purple-500', 
                'Science': 'border-green-500', 
                'Social Science (SSC)': 'border-blue-500', 
                'Hindi': 'border-orange-500'
            };

            Object.keys(subjectLinks).forEach(key => {
                const parts = key.split('-'); // e.g., ['English', '8', 'Half', 'Yearly', '2022']
                const subject = parts[0];
                const className = parts[1];
                const year = parts[parts.length - 1];
                // Handle multi-word exam types like "Half-Yearly" and "Pre-Board"
                const examType = parts.slice(2, parts.length - 1).join(' ').trim(); 
                const title = `${subject} ${examType} Exam ${year}`;
                const colorClass = subjectColors[subject] || 'border-gray-500';

                const listItem = document.createElement('div');
                // Pass the unique key to the detail view function
                listItem.setAttribute('onclick', `showPaperDetail('${key}')`); 
                listItem.setAttribute('data-subject', subject);
                listItem.setAttribute('data-year', year);
                listItem.setAttribute('data-exam', examType.replace(' ', '-')); // Use hyphenated for data attribute
                listItem.setAttribute('data-class', className);
                listItem.setAttribute('data-key', key); // Unique identifier for filtering

                listItem.className = `bg-white p-6 rounded-xl shadow-lg hover:shadow-2xl transition duration-300 cursor-pointer border-l-4 ${colorClass} transform hover:-translate-y-1`;

                listItem.innerHTML = `
                    <h4 class="text-lg font-bold text-gray-900 truncate">${title}</h4>
                    <p class="text-sm text-gray-500 mb-3">Class ${className} | Subject: ${subject}</p>
                    <span class="text-primary-blue hover:text-primary-light font-medium text-sm">View Details &rarr;</span>
                `;
                
                paperListDiv.appendChild(listItem);
            });
        }
        
        // ====================================================================
        // --- END: DYNAMIC LINKS DATA AND LOGIC ---
        // ====================================================================


        // --- Core UI Functions ---

        /**
         * Closes the login modal.
         */
        function closeModal() {
            const modal = document.getElementById('login-modal');
            modal.classList.remove('opacity-100', 'pointer-events-auto');
            modal.classList.add('opacity-0', 'pointer-events-none');
            
            setTimeout(() => {
                modal.style.display = 'none';
            }, 300);

            // Ensure we are back on the login form view when closing
            hideRequestForm();

            // Update main content visibility
            const mainContent = document.getElementById('main-content');
            mainContent.classList.remove('opacity-0', 'scale-95');
            mainContent.classList.add('opacity-100', 'scale-100');
        }

        /**
         * Creates a custom message box instead of using alert().
         */
        function alertBox(title, message, colorClass = 'bg-primary-blue') {
            const box = document.createElement('div');
            box.id = 'custom-alert';
            box.className = 'fixed inset-0 z-[60] flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300';
            
            box.innerHTML = `
                <div class="bg-white p-6 rounded-xl shadow-2xl max-w-xs w-full text-center transform scale-100 transition-transform duration-300">
                    <h3 class="text-lg font-bold text-gray-900 mb-2">${title}</h3>
                    <p class="text-sm text-gray-600 mb-4">${message}</p>
                    <button onclick="document.getElementById('custom-alert').remove()" 
                            class="px-4 py-2 ${colorClass} text-white rounded-lg hover:opacity-90 transition duration-150">
                        OK
                    </button>
                </div>
            `;
            document.body.appendChild(box);
        }

        // --- Auth/Account Functions ---

        /**
         * Handles the login button click.
         */
        function handleLogin() {
            const userId = document.getElementById('userId').value;
            const welcomeText = document.getElementById('welcome-message');

            if (userId.trim() !== "") {
                welcomeText.textContent = `Hello, ${userId}!`;
            } else {
                 welcomeText.textContent = `Hello, User!`;
            }
            
            console.log('Login attempt successful/simulated.');
            closeModal();
        }

        /**
         * Handles the skip button click.
         */
        function handleSkip() {
            const welcomeText = document.getElementById('welcome-message');
            welcomeText.textContent = `Hello, Guest!`;
            closeModal();
        }

        /**
         * Logic for the Account Button to re-open the Login Modal.
         */
        function handleAccountClick() {
            hidePaperDetail(); // Ensure detail view is closed
            const modal = document.getElementById('login-modal');
            modal.style.display = 'flex';
            modal.classList.remove('opacity-0', 'pointer-events-none');
            modal.classList.add('opacity-100', 'pointer-events-auto');
        }
        
        /**
         * Shows the account creation request form.
         */
        function showRequestForm() {
            document.getElementById('login-form-wrapper').classList.add('hidden');
            document.getElementById('request-form-wrapper').classList.remove('hidden');
        }

        /**
         * Hides the account creation request form and returns to login.
         */
        function hideRequestForm() {
            document.getElementById('request-form-wrapper').classList.add('hidden');
            document.getElementById('login-form-wrapper').classList.remove('hidden');
        }

        /**
         * Handles the submission of the account request form.
         */
        function submitAccountRequest() {
            const name = document.getElementById('reqName').value;
            const email = document.getElementById('reqEmail').value;

            if (!name || !email) {
                 alertBox('Error', 'Please fill in all required fields.', 'bg-red-500');
                 return;
            }

            alertBox(
                'Request Sent!', 
                'You have requested to create an account. We will send your ID and password within 24 hours.',
                'bg-success-green'
            );
            
            document.getElementById('request-form').reset();
            hideRequestForm();
        }

        // --- Filter/Search Functions (Simplified) ---
        function updateExamOptions() {
            const classSelect = document.getElementById('class-select');
            const examSelect = document.getElementById('exam-select');
            const selectedClass = classSelect.value;
            const currentExam = examSelect.value; 

            examSelect.innerHTML = '<option value="">All Exams</option>';
            const baseOptions = [{ value: 'Annual', text: 'Annual' }, { value: 'Half-Yearly', text: 'Half-Yearly' }];

            baseOptions.forEach(option => {
                const opt = document.createElement('option');
                opt.value = option.value;
                opt.textContent = option.text;
                examSelect.appendChild(opt);
            });

            if (selectedClass === '10') {
                const preBoardOpt = document.createElement('option');
                preBoardOpt.value = 'Pre-Board';
                preBoardOpt.textContent = 'Pre-Board';
                examSelect.appendChild(preBoardOpt);
            }
            
            if (currentExam !== 'Pre-Board' || selectedClass === '10') {
                examSelect.value = currentExam;
            } else {
                examSelect.value = ''; 
            }

            handleSearch(); 
        }

        function handleSearch() {
            const searchInput = document.getElementById('search-input');
            const yearSelect = document.getElementById('year-select');
            const examSelect = document.getElementById('exam-select');
            const classSelect = document.getElementById('class-select'); 

            const query = searchInput.value.toLowerCase().trim();
            const selectedYear = yearSelect.value;
            const selectedExam = examSelect.value.toLowerCase();
            const selectedClass = classSelect.value; 
            
            const paperList = document.getElementById('paper-list').children;
            
            const subjectMap = {
                'it': 'computer/it', 'computer': 'computer/it', 
                'math': 'math', 'mathematics': 'math',
                'hindi': 'hindi', 'english': 'english', 
                'science': 'science', 'ssc': 'social science (ssc)'
            };

            let correctedSubject = '';
            if (subjectMap[query]) { correctedSubject = subjectMap[query]; } 
            
            for (let i = 0; i < paperList.length; i++) {
                const paper = paperList[i];
                const subject = paper.getAttribute('data-subject').toLowerCase();
                const paperYear = paper.getAttribute('data-year');
                const paperExam = paper.getAttribute('data-exam').toLowerCase();
                const paperClass = paper.getAttribute('data-class');

                let isSubjectMatch = true;
                let isYearMatch = true;
                let isExamMatch = true;
                let isClassMatch = true;

                if (query !== '') {
                    isSubjectMatch = (correctedSubject !== '' && subject.includes(correctedSubject)) || 
                                     (correctedSubject === '' && paper.textContent.toLowerCase().includes(query));
                }
                if (selectedYear !== '') { isYearMatch = paperYear === selectedYear; }
                if (selectedExam !== '') { isExamMatch = paperExam.includes(selectedExam); }
                if (selectedClass !== '') { isClassMatch = paperClass === selectedClass; }

                if (isSubjectMatch && isYearMatch && isExamMatch && isClassMatch) {
                    paper.classList.remove('hidden');
                } else {
                    paper.classList.add('hidden');
                }
            }
        }
        
        // --- Detail View Functions (UPDATED) ---

        /**
         * Switches view to the detail page for a specific paper.
         * Now uses the unique key to fetch details and links.
         */
        function showPaperDetail(key) {
            const linkValue = subjectLinks[key];
            const links = getLinks(linkValue);
            
            // Parse the key for display details
            const parts = key.split('-');
            const subject = parts[0];
            const className = parts[1];
            const year = parts[parts.length - 1];
            const examType = parts.slice(2, parts.length - 1).join(' ').trim();
            const title = `${subject} ${examType} Exam ${year}`;
            
            document.getElementById('main-content').classList.add('hidden');
            
            const detailView = document.getElementById('paper-detail-view');
            detailView.classList.remove('hidden');
            
            document.getElementById('detail-subject-header').textContent = subject;
            document.getElementById('detail-title').textContent = title;
            document.getElementById('detail-info').innerHTML = `
                <span class="font-semibold text-primary-blue">Class ${className}</span> 
                | 
                <span class="text-red-500">${examType} Exam, ${year}</span>
            `;

            // Set the onclick attributes for the download and preview buttons
            const downloadButton = document.getElementById('download-button');
            const previewButton = document.getElementById('preview-button');
            const warningMessage = document.getElementById('detail-warning-message');

            // Find the <span> elements inside the buttons
            const downloadSpan = downloadButton.querySelector('span');
            const previewSpan = previewButton.querySelector('span');


            if (links.isPlaceholder) {
                // Handle placeholder state
                downloadButton.classList.remove('bg-green-600', 'bg-yellow-500', 'hover:bg-green-700', 'hover:bg-yellow-600');
                downloadButton.classList.add('bg-gray-400', 'cursor-not-allowed');
                downloadButton.onclick = () => alertBox('Missing ID', `The file ID for ${key} is a placeholder. Please update the JavaScript object 'subjectLinks' with the actual Google Drive File ID or URL.`, 'bg-red-500');
                downloadSpan.textContent = `Download (Update ID)`;

                previewButton.classList.remove('bg-green-600', 'bg-yellow-500', 'hover:bg-green-700', 'hover:bg-yellow-600');
                previewButton.classList.add('bg-gray-400', 'cursor-not-allowed');
                previewButton.onclick = () => alertBox('Missing ID', `The file ID for ${key} is a placeholder. Please update the JavaScript object 'subjectLinks' with the actual Google Drive File ID or URL.`, 'bg-red-500');
                previewSpan.textContent = `Preview (Update ID)`;
                
                warningMessage.classList.remove('hidden');

            } else {
                // Handle valid link state
                downloadButton.classList.remove('bg-gray-400', 'cursor-not-allowed');
                downloadButton.classList.add('bg-green-600', 'hover:bg-green-700');
                downloadButton.setAttribute('onclick', `handleDownload('${links.download}')`);
                downloadSpan.textContent = `Download Paper PDF`;

                previewButton.classList.remove('bg-gray-400', 'cursor-not-allowed');
                previewButton.classList.add('bg-yellow-500', 'hover:bg-yellow-600');
                previewButton.setAttribute('onclick', `handlePreview('${links.view}')`);
                previewSpan.textContent = `Preview Online`;
                
                warningMessage.classList.add('hidden');
            }
        }
        
        /**
         * Handles PDF download by opening the direct download URL in a new tab.
         */
        function handleDownload(url) {
            window.open(url, '_blank');
            alertBox('Download Started', 'The browser should now prompt you to download the PDF.', 'bg-success-green');
        }

        /**
         * Handles PDF preview by opening the view URL in a new tab.
         */
        function handlePreview(url) {
            window.open(url, '_blank');
        }

        /**
         * Switches view back to the main list.
         */
        function hidePaperDetail() {
            document.getElementById('paper-detail-view').classList.add('hidden');
            document.getElementById('main-content').classList.remove('hidden');
        }

        // --- More Options Modal Functions ---

        function openMoreOptionsModal() {
            const modal = document.getElementById('more-options-modal');
            modal.style.display = 'flex';
            setTimeout(() => {
                modal.classList.remove('opacity-0', 'pointer-events-none');
                modal.classList.add('opacity-100', 'pointer-events-auto');
            }, 10);
        }

        function closeMoreOptionsModal() {
            const modal = document.getElementById('more-options-modal');
            modal.classList.remove('opacity-100', 'pointer-events-auto');
            modal.classList.add('opacity-0', 'pointer-events-none');
            setTimeout(() => {
                modal.style.display = 'none';
            }, 300);
        }

        function handleMoreOptionClick(option) {
            let message = '';
            let title = '';
            let color = 'bg-primary-blue';
            
            if (option === 'aim') {
                title = 'Our Aim';
                message = 'Our goal is to provide easy, centralized access to previous year question papers for all students, helping them prepare effectively and achieve academic excellence.';
            } else if (option === 'buy') {
                title = 'Buy This Website';
                message = 'Interested in acquiring or franchising this resource platform? Contact the administration for detailed business inquiries.';
                color = 'bg-warning-orange';
            } else if (option === 'subscription') {
                title = 'Get Subscription';
                message = 'A premium subscription unlocks access to model answers, detailed solutions, and personalized study guides. Contact us to subscribe!';
                color = 'bg-success-green';
            }
            closeMoreOptionsModal();
            alertBox(title, message, color);
        }

        // --- Header Scroll Logic ---
        
        function handleScroll() {
            const header = document.querySelector('header');
            
            if (window.scrollY > 100) { // Only engage logic after scrolling past the first 100px
                if (window.scrollY > lastScrollY) {
                    // Scrolling down - hide header
                    header.classList.add('header-hidden');
                } else {
                    // Scrolling up - show header
                    header.classList.remove('header-hidden');
                }
            } else {
                // At the top - always show header
                header.classList.remove('header-hidden');
            }
            lastScrollY = window.scrollY;
        }

        // --- Execute on Window Load (Fixes Refresh Issue) ---
        window.onload = function() {
            const modal = document.getElementById('login-modal');
            const header = document.querySelector('header');
            
            // 1. Apply transition classes for smooth hide/show animation
            header.classList.add('transition', ...headerTransitionClass); 

            // 2. Add scroll listener
            window.addEventListener('scroll', handleScroll);

            // 3. FORCE the login modal to show immediately on load/refresh
            modal.style.display = 'flex';
            setTimeout(() => {
                modal.classList.remove('opacity-0', 'pointer-events-none');
                modal.classList.add('opacity-100', 'pointer-events-auto');
            }, 50); // Small delay for smooth entry animation

            // 4. Initialize exam options
            updateExamOptions();
            
            // 5. Render the full paper list
            renderPaperList();
        };
    </script>
</head>
<body class="bg-gray-100 min-h-screen">

    <header class="fixed top-0 left-0 w-full z-40 flex justify-between items-center px-4 sm:px-6 lg:px-12 py-4 bg-white shadow-xl">
        
        <div class="flex items-center space-x-3">
            <img src="https://mountliterazeeschool.in/wp-content/uploads/2024/12/Untitled-design-e1735205852170.png" 
                 alt="MLZS Logo" 
                 class="h-8 sm:h-10 w-auto object-contain">

            <h1 class="text-xl sm:text-2xl font-extrabold text-primary-blue truncate">
                MLZS Bhagalpur Hub
            </h1>
        </div>
        
        <div class="flex items-center space-x-3">
            
            <button onclick="openMoreOptionsModal()"
                class="flex-shrink-0 flex items-center space-x-1 px-3 py-2 bg-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-300 transition duration-150 shadow-md transform hover:scale-[1.05]">
                <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z" />
                </svg>
                <span class="hidden sm:inline">More</span>
            </button>
            
            <button onclick="handleAccountClick()"
                class="flex items-center space-x-1 p-2 bg-primary-blue text-white rounded-lg hover:bg-primary-light transition duration-150 shadow-md transform hover:scale-[1.05]">
                <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
                <span class="hidden sm:inline font-medium">Account</span>
            </button>
        </div>
    </header>

    <main id="main-content" class="transition-all duration-500 opacity-0 scale-95 w-full min-h-screen p-6 sm:p-10 lg:p-12 pt-28 bg-gray-100">
        <div class="max-w-7xl mx-auto space-y-12">
            
            <div class="p-6 sm:p-8 bg-white rounded-xl shadow-2xl border-t-4 border-primary-blue">
                <div class="flex justify-between items-start">
                    <h2 id="welcome-message" class="text-3xl font-bold text-gray-800">
                        Welcome to the App!
                    </h2>
                </div>
                <p class="text-gray-500 mt-2 mb-6">
                    Use the filters and search bar below to refine your access to previous year question papers.
                </p>
                
                <div class="max-w-3xl mb-8">
                    <form onsubmit="event.preventDefault(); handleSearch();">
                        <div class="relative">
                            <input type="text" id="search-input" placeholder="Search by subject: Math, Science, English, IT, Hindi, SSC..."
                                class="w-full py-3 pl-12 pr-4 border border-gray-300 rounded-xl focus:ring-primary-blue focus:border-primary-blue transition duration-150 shadow-inner text-base">
                            <button type="submit" class="absolute left-0 top-0 h-full w-12 flex items-center justify-center text-gray-400 hover:text-primary-blue">
                                <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                                </svg>
                            </button>
                        </div>
                    </form>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 pt-4 border-t border-gray-200">
                    
                    <div>
                        <label for="class-select" class="block text-sm font-semibold text-gray-700">Select Class</label>
                        <select id="class-select" onchange="updateExamOptions()"
                                class="mt-1 block w-full pl-3 pr-10 py-2.5 text-base border-gray-300 rounded-lg focus:outline-none focus:ring-primary-blue focus:border-primary-blue shadow-sm">
                            <option value="">All Classes</option>
                            <option value="8">Class 8</option>
                            <option value="9">Class 9</option>
                            <option value="10">Class 10</option>
                        </select>
                    </div>

                    <div>
                        <label for="year-select" class="block text-sm font-semibold text-gray-700">Select Session Year</label>
                        <select id="year-select" onchange="handleSearch()"
                                class="mt-1 block w-full pl-3 pr-10 py-2.5 text-base border-gray-300 rounded-lg focus:outline-none focus:ring-primary-blue focus:border-primary-blue shadow-sm">
                            <option value="">All Years</option>
                            <option value="2025">Session 2025</option>
                            <option value="2024">Session 2024</option>
                            <option value="2023">Session 2023</option>
                            <option value="2022">Session 2022</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="exam-select" class="block text-sm font-semibold text-gray-700">Select Exam Type</label>
                        <select id="exam-select" onchange="handleSearch()"
                                class="mt-1 block w-full pl-3 pr-10 py-2.5 text-base border-gray-300 rounded-lg focus:outline-none focus:ring-primary-blue focus:border-primary-blue shadow-sm">
                            <option value="">All Exams</option>
                        </select>
                    </div>
                </div>
            </div>

            <div>
                <h3 class="text-2xl font-extrabold text-primary-blue mb-6">Available Question Papers</h3>
                <div id="paper-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    </div>
            </div>

        </div>
    </main>
    
    <section id="paper-detail-view" class="hidden w-full min-h-screen p-6 sm:p-10 lg:p-12 pt-28 bg-gray-100">
        <div class="max-w-4xl mx-auto bg-white p-8 rounded-xl shadow-2xl">
            
            <button onclick="hidePaperDetail()"
                    class="flex items-center space-x-2 px-4 py-2 bg-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-300 transition duration-150 mb-8 shadow-md transform hover:scale-[1.02]">
                <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                </svg>
                <span>Back to All Papers</span>
            </button>

            <div class="bg-primary-blue text-white p-6 sm:p-8 rounded-xl shadow-xl mb-8">
                <h3 id="detail-subject-header" class="text-lg font-semibold uppercase opacity-80">
                    </h3>
                <h2 id="detail-title" class="text-3xl sm:text-4xl font-extrabold mt-1">
                    </h2>
            </div>
            
            <div class="space-y-8">
                <p class="text-lg text-gray-700 font-medium border-b pb-4">
                    Details: <span id="detail-info" class="text-gray-900 font-bold"></span>
                </p>

                <div id="detail-warning-message" class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 hidden" role="alert">
                    <p class="font-bold">Placeholder Link Detected</p>
                    <p class="text-sm">This paper's file ID needs to be updated in the JavaScript source code for the links to become active.</p>
                </div>

                <p class="text-gray-600 leading-relaxed">
                    This resource is a full-length question paper from the specified session. Click **Download** to save the PDF directly to your device, or click **Preview** to view it online in a new browser tab.
                </p>

                <div class="flex flex-col sm:flex-row gap-4 pt-4">
                    <button id="download-button"
                            class="flex-1 flex items-center justify-center space-x-2 px-6 py-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 transition duration-150 shadow-lg transform hover:scale-[1.02]">
                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                        </svg>
                        <span>Download Paper PDF</span>
                    </button>
                    
                    <button id="preview-button"
                            class="flex-1 flex items-center justify-center space-x-2 px-6 py-3 bg-yellow-500 text-gray-800 font-bold rounded-lg hover:bg-yellow-600 transition duration-150 shadow-lg transform hover:scale-[1.02]">
                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                        </svg>
                        <span>Preview Online</span>
                    </button>
                </div>
            </div>
            
        </div>
    </section>


    <div id="login-modal" 
         class="modal-overlay fixed inset-0 z-50 flex items-center justify-center opacity-0 pointer-events-none"
         style="display: none;">
        
        <div class="modal-content bg-white p-8 max-w-sm w-full mx-4 rounded-xl shadow-2xl transform">
            <h2 class="text-2xl font-bold text-gray-900 mb-6 text-center">Student Access Portal</h2>
            
            <div id="login-form-wrapper">
                <form onsubmit="event.preventDefault(); handleLogin();">
                    <div class="mb-4">
                        <label for="userId" class="block text-sm font-medium text-gray-700 mb-1">User ID / Username</label>
                        <input type="text" id="userId" placeholder="Enter your ID or username" required 
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-blue focus:border-primary-blue transition duration-150">
                    </div>

                    <div class="mb-6">
                        <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                        <input type="password" id="password" placeholder="" required 
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-blue focus:border-primary-blue transition duration-150">
                    </div>

                    <div class="space-y-3">
                        <button type="submit" 
                                class="w-full bg-primary-blue text-white py-2 rounded-lg font-semibold hover:bg-primary-light transition duration-150 shadow-md">
                            Log In
                        </button>
                        
                        <button type="button" onclick="showRequestForm()"
                                class="w-full bg-yellow-500 text-white py-2 rounded-lg font-medium hover:bg-yellow-600 transition duration-150 shadow-sm">
                            Request to Create Account
                        </button>

                        <button type="button" onclick="handleSkip()"
                                class="w-full bg-transparent text-gray-600 py-2 rounded-lg font-medium hover:bg-gray-100 transition duration-150 border border-gray-300">
                            Skip for now
                        </button>
                    </div>
                </form>
            </div>
            
            <div id="request-form-wrapper" class="hidden">
                <h3 class="text-xl font-bold text-gray-800 mb-4 text-center">Account Request</h3>
                <p class="text-sm text-gray-500 mb-6 text-center">Fill in your details. We will process your request and email you login credentials within 24 hours.</p>

                <form id="request-form" onsubmit="event.preventDefault(); submitAccountRequest();">
                    <div class="mb-4">
                        <label for="reqName" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                        <input type="text" id="reqName" placeholder="Your Name" required 
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-blue focus:border-primary-blue transition duration-150">
                    </div>
                    <div class="mb-4">
                        <label for="reqEmail" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                        <input type="email" id="reqEmail" placeholder="Your Email (for ID/Password)" required 
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-blue focus:border-primary-blue transition duration-150">
                    </div>
                    <div class="mb-6">
                        <label for="reqPassword" class="block text-sm font-medium text-gray-700 mb-1">Desired Password</label>
                        <input type="password" id="reqPassword" placeholder="Set a password" required 
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-blue focus:border-primary-blue transition duration-150">
                    </div>

                    <div class="space-y-3">
                        <button type="submit" 
                                class="w-full bg-success-green text-white py-2 rounded-lg font-semibold hover:bg-green-700 transition duration-150 shadow-md">
                            Submit Request
                        </button>
                        <button type="button" onclick="hideRequestForm()"
                                class="w-full bg-transparent text-gray-600 py-2 rounded-lg font-medium hover:bg-gray-100 transition duration-150 border border-gray-300">
                            Cancel & Go Back to Login
                        </button>
                    </div>
                </form>
            </div>

        </div>
    </div>
    
    <div id="more-options-modal" 
         class="modal-overlay fixed inset-0 z-50 flex items-center justify-center opacity-0 pointer-events-none"
         style="display: none;">
        
        <div class="modal-content bg-white p-6 max-w-sm w-full mx-4 rounded-xl shadow-2xl transform">
            <h2 class="text-2xl font-bold text-gray-900 mb-6 text-center border-b pb-3">More Options</h2>
            
            <div class="space-y-4">
                <button onclick="handleMoreOptionClick('aim')"
                        class="w-full flex items-center justify-center space-x-2 px-4 py-3 bg-primary-blue text-white rounded-lg font-medium hover:bg-primary-light transition duration-150 shadow-md transform hover:scale-[1.02]">
                    <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v14M9 19a2 2 0 002 2h7a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5z" /></svg>
                    <span>Our Aim</span>
                </button>
                
                <button onclick="handleMoreOptionClick('buy')"
                        class="w-full flex items-center justify-center space-x-2 px-4 py-3 bg-warning-orange text-gray-900 rounded-lg font-medium hover:bg-yellow-600 transition duration-150 shadow-md transform hover:scale-[1.02]">
                    <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z" /></svg>
                    <span>Buy This Website</span>
                </button>

                <button onclick="handleMoreOptionClick('subscription')"
                        class="w-full flex items-center justify-center space-x-2 px-4 py-3 bg-success-green text-white rounded-lg font-medium hover:bg-green-700 transition duration-150 shadow-md transform hover:scale-[1.02]">
                    <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" /></svg>
                    <span>Get Subscription</span>
                </button>
            </div>
            
            <button onclick="closeMoreOptionsModal()"
                    class="mt-6 w-full text-sm text-gray-500 hover:text-gray-900 transition duration-150">
                Close
            </button>
        </div>
    </div>

</body>
</html>
